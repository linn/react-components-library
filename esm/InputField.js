import e,{Fragment as r}from"react";import t from"prop-types";import o from"@material-ui/styles/makeStyles";import a from"@material-ui/core/TextField";import n from"@material-ui/core/InputLabel";import l from"@material-ui/core/InputAdornment";import i from"moment";var m=o(function(e){return{root:{paddingTop:0,marginTop:e.spacing(1)},disabled:{background:e.palette.grey[100],color:e.palette.text.secondary},label:{fontSize:e.typography.fontSize},labelAsterisk:{color:e.palette.error.main},required:{color:e.palette.error.main},error:{color:e.palette.error.main}}}),p=function(e){return e||0===e},u=function(e){return p(e)?e:""};function s(t){var o=t.onChange,s=t.propertyName,d=t.type,c=t.adornment,g=t.disabled,f=t.error,b=t.fullWidth,h=t.helperText,y=t.label,x=t.margin,v=t.maxLength,T=t.rows,q=t.name,k=t.placeholder,I=t.required,L=t.value,w=m(),A=function(e){var r=e.target.value,t=r;"date"===d&&(t=r?i(r).utc().format():""),"number"===d&&(t=p(r)?parseFloat(r):null),o(s,t)};return e.createElement(r,null,e.createElement(n,{classes:{root:w.label,asterisk:w.labelAsterisk},required:I,error:f},y),e.createElement(a,{classes:{root:w.root},disabled:g,error:f,fullWidth:b,helperText:h,margin:x,multiline:T>0,name:q,placeholder:k,required:I,rows:T,type:d,value:"date"===d?i(L).format("YYYY-MM-DD"):u(L),onChange:function(e){return A(e)},InputProps:{startAdornment:c?e.createElement(l,{position:"start"},c):null,inputProps:{maxLength:v},classes:{disabled:w.disabled}},FormHelperTextProps:{classes:{required:w.required,error:w.error}},onInput:function(e){"number"===d&&v&&(e.target.value=Math.max(0,parseInt(e.target.value,10)).toString().slice(0,v))},variant:"outlined"}))}s.propTypes={adornment:t.oneOfType([t.string,t.shape({})]),disabled:t.bool,error:t.bool,fullWidth:t.bool,helperText:t.string,label:t.string,margin:t.string,maxLength:t.number,required:t.bool,rows:t.number,name:t.string,placeholder:t.string,propertyName:t.string,type:t.string,value:t.oneOfType([t.string,t.number]),onChange:t.func},s.defaultProps={adornment:"",disabled:!1,error:!1,fullWidth:!1,helperText:"",label:"",margin:"dense",maxLength:null,required:!1,rows:null,name:"",placeholder:"",propertyName:"",type:"text",value:"",onChange:null};export default s;
